{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}

    <div class="flex flex-col items-start gap-2 max-w-[980px]">
        <h1 class=" text-3xl text-slate-900 font-medium leading-tight tracking-tighter sm:text-3xl md:text-5xl lg:text-6xl">
            Je suis <span class="text-primary-500">Sophie</span>,<br>
        </h1>
        <p class="text-lg text-slate-500 max-w-[700px] dark:text-slate-400 sm:text-xl">
            Pour vous, votre famille ou vos proches, je me déplace à domicile pour vous offrir une prestation de
            qualité.
        </p>
    </div>

    <div class="mt-4 flex flex-col space-y-4 sm:space-x-4 sm:space-y-0 sm:flex-row md:flex-row">
        <a href="{{ path('app_login') }}"
           class="btn-md btn-primary">
                <span class="ml-2">
                    Prendre rendez-vous
                </span>
        </a>
        <a href=""
           class="btn-md btn-secondary">
            {{ icon('book-open', '2sm', 'h-4 w-4') }}
            <span class="ml-2">
                    Voir les témoignages
                </span>

        </a>
    </div>



    {#    <div class="my-2 w-full bg-slate-200 h-[1px] dark:bg-slate-700"></div> #}

    <!-- Section stories -->

    <script type="text/javascript" defer>
        const ratio = .2
        const options = {
            root: null,
            rootMargin: '0px',
            threshold: ratio
        }

        function callbackFunction(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting > ratio) {
                    entry.target.classList.add("reveal-visible");
                    // entry.target.classList.remove("hidden");
                    // entry.target.classList.add("animate-fade-in-up");

                    // ne plus observer l'élément
                    observer.unobserve(entry.target);
                }
            });
        }


        const observer = new IntersectionObserver(callbackFunction, options)

        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.reveal').forEach(el => {
                observer.observe(el);
            });
        });


        // document.addEventListener('DOMContentLoaded', function () {
        //     const cards = document.querySelectorAll('.card-reveal');
        //     cards.forEach((card, index) => {
        //         card.style.animation = 'cardReveal 1s ease-out forwards';
        //         card.style.animationDelay = `${index * 0.1}s`;
        //     });
        // });

    </script>

    <div class="my-8 flex flex-col items-center gap-8">
        <h2 class="font-inter text-2xl sm:text-4xl font-medium leading-tight tracking-tighter">
            Découvrez <span class="text-primary-500">mes prestations</span>
        </h2>

        <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4 w-full">
            {% for story in [1,2,3,4, 6, 7, 8, 9 ,10, 11, 12, 13, 14, 15, 16] %}
                <div class="max-w-sm rounded overflow-hidden shadow-lg reveal">
                    <img src="https://picsum.photos/seed/{{ story }}/500/500"
                         alt="image"
                         class="w-full h-64 object-cover rounded-md group-hover:opacity-75 transition-opacity duration-500">
                    <div class="px-6 py-4">
                        <div class="text-slate-900 font-bold text-xl mb-2">Prestation</div>
                        <p class="text-slate-500 text-base">
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus quia, nulla! Maiores
                            et perferendis eaque, exercitationem praesentium nihil.
                        </p>
                    </div>
                </div>
            {% endfor %}

        </div>


        <!-- show more -->
        <div class="mt-8 flex justify-center">
            <a href=""
               class="btn-md btn-primary">
                <span class="mr-2">
                    Je découvre
                </span>
            </a>
        </div>

    </div>

    <!-- End Section stories -->

    <div class="my-2 w-full bg-slate-200 h-[1px] dark:bg-slate-700"></div>
{% endblock %}
