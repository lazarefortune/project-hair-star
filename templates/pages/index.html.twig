{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}

    <div class="w-full text-gray-900 bg-gradient-to-b from-[#ebdcfa] to-white">
        <header class="z-10 mx-auto w-full max-w-6xl px-4 sm:px-6 md:px-8">
            <div class="relative flex flex-wrap items-center justify-between gap-6 py-2 md:gap-0 md:py-4">
                <input aria-hidden="true" type="checkbox" name="toggle_nav" id="toggle_nav"
                       class="hidden peer">
                <div class="relative z-20 flex w-full justify-between md:px-0 lg:w-max">
                    <a href="" aria-label="logo" class="flex items-center space-x-2">
                        {# <div aria-hidden="true" class="flex space-x-1"> #}
                        {#     <div class="h-4 w-4 rounded-full bg-gray-900 dark:bg-white"></div> #}
                        {#     <div class="h-6 w-2 bg-primary"></div> #}
                        {# </div> #}
                        <span class="text-2xl font-bold text-slate-900 dark:text-white">Book<span
                                    class="text-primary-700">App</span></span>
                    </a>

                    <div class="relative flex max-h-10 items-center lg:hidden">
                        <label role="button" for="toggle_nav" aria-label="humburger" id="hamburger"
                               class="relative -mr-6 p-6">
                            <div aria-hidden="true" id="line"
                                 class="m-auto w-5 rounded bg-sky-900 transition duration-300 h-0.5 dark:bg-gray-300"></div>
                            <div aria-hidden="true" id="line2"
                                 class="m-auto mt-2 w-5 rounded bg-sky-900 transition duration-300 h-0.5 dark:bg-gray-300"></div>
                        </label>
                    </div>
                </div>
                <div aria-hidden="true"
                     class="fixed inset-0 z-10 h-screen w-screen peer-checked:origin-top origin-bottom scale-y-0 peer-checked:scale-y-100 bg-white/70 backdrop-blur-2xl transition duration-500 dark:bg-gray-900/70 lg:hidden"></div>
                <div class="flex-col z-20 flex-wrap gap-6 p-8 rounded-3xl border border-gray-100 bg-white shadow-2xl shadow-gray-600/10 justify-end w-full invisible opacity-0 translate-y-1  absolute top-full left-0 transition-all duration-300 scale-95 origin-top
                            lg:relative lg:scale-100 lg:peer-checked:translate-y-0 lg:translate-y-0 lg:flex lg:flex-row lg:items-center lg:gap-0 lg:p-0 lg:bg-transparent lg:w-7/12 lg:visible lg:opacity-100 lg:border-none
                            peer-checked:scale-100 peer-checked:opacity-100 peer-checked:visible lg:shadow-none
                            dark:shadow-none dark:bg-gray-800 dark:border-gray-700">

                    <nav class="w-full text-gray-600 dark:text-gray-300 lg:w-auto lg:pt-0 lg:pr-4">
                        <ul class="flex flex-col gap-6 font-medium tracking-wide lg:flex-row lg:gap-0 lg:text-sm">
                            <li>
                                <a href="" class="block transition hover:text-primary md:px-4">
                                    <span>Prestations</span>
                                </a>
                            </li>
                            <li>
                                <a href="" class="block transition hover:text-primary md:px-4">
                                    <span>Abonnements</span>
                                </a>
                            </li>
                            <li>
                                <a href="{{ path('app_contact') }}"
                                   class="block transition hover:text-primary md:px-4">
                                    <span>Contact</span>
                                </a>
                            </li>
                            <li>
                                <a href="" class="block transition hover:text-primary md:px-4">
                                    <span>Blog</span>
                                </a>
                            </li>
                        </ul>
                    </nav>

                    <div class="mt-12 lg:mt-0">
                        {% if app.user %}
                            <a
                                    href="{{ path('app_logout') }}"
                                    class="before:absolute relative before:inset-0 flex h-9 w-full items-center justify-center before:rounded-full px-4 before:transition before:duration-300 before:bg-primary hover:before:scale-105 active:before:scale-95 active:duration-75 sm:w-max"
                            >
                                <span class="relative text-sm font-semibold text-white"
                                >Déconnexion</span
                                >
                            </a>
                        {% else %}
                            <a
                                    href="{{ path('app_login') }}"
                                    class="before:absolute relative before:inset-0 flex h-9 w-full items-center justify-center before:rounded-full px-4 before:transition before:duration-300 before:bg-primary hover:before:scale-105 active:before:scale-95 active:duration-75 sm:w-max"
                            >
                                <span class="relative text-sm font-semibold text-white"
                                >Espace client</span
                                >
                            </a>
                        {% endif %}
                        {#                        <a #}
                        {#                                href="{{ path('app_login') }}" #}
                        {#                                class="before:absolute relative before:inset-0 flex h-9 w-full items-center justify-center before:rounded-full px-4 before:transition before:duration-300 before:bg-primary hover:before:scale-105 active:before:scale-95 active:duration-75 sm:w-max" #}
                        {#                        > #}
                        {#                            <span class="relative text-sm font-semibold text-white" #}
                        {#                            >Espace client</span #}
                        {#                            > #}
                        {#                        </a> #}
                    </div>
                </div>
            </div>
        </header>

        <div class="mx-auto flex w-full max-w-6xl flex-col-reverse px-4 pt-24 sm:px-6 md:px-8 lg:flex-row lg:items-center lg:justify-between">
            <div class="w-full pr-0 lg:w-1/2 lg:pr-8">
                <h1 class="text-4xl font-bold lg:gtext-6xl">
                    Prenez soin de vos cheveux avec <span class="text-primary-600">BookApp</span> !
                </h1>
                <p class="pt-4 text-lg leading-relaxed text-gray-500 lg:pt-8 lg:text-xl">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci aliquid animi atque autem
                    consectetur consequuntur cumque, delectus doloremque doloribus ducimus ea eius eligendi eos
                    error
                </p>
                <div class="flex flex-col flex-wrap gap-x-6 gap-y-4 pt-12 sm:flex-row">
                    <a href="" class="btn-md btn-primary">
                        {{ icon('calendar-plus') }}
                        <span class="ml-2">Prendre rendez-vous</span>
                    </a>
                    <a href="" class="btn-md btn-link">
                        <span class="">Mes réalisations</span>
                    </a>
                </div>
            </div>
            <div class="hidden lg:block lg:w-1/2">
                <img src="{{ asset('images/illustrations/haircut-illustration-1.svg') }}" alt="hero" class="w-full">
            </div>
        </div>
    </div>

    <section class="bg-white">
        <div class="mx-auto mt-20 mb-48 flex max-w-6xl flex-col-reverse px-4 sm:mt-24 sm:px-6 md:px-8 lg:mt-20 lg:grid lg:grid-cols-12 lg:flex-row lg:items-center lg:gap-8">
            <div class="mt-16 lg:col-span-6 lg:col-start-7 lg:row-span-2 lg:row-start-1 lg:mt-0">
                <h2 class="text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl">
                    <span class="block">Prêt à commencer ?</span>
                    <span class="block text-primary-600">Testez gratuitement la 1ère séance</span>
                </h2>
                <p class="mt-3 text-lg text-gray-500">
                    Ac euismod vel sit maecenas id pellentesque eu sed consectetur. Malesuada adipiscing sagittis
                    vel
                    nulla nec.
                </p>
                <div class="mt-9">
                    <a href="#" class="btn-md btn-primary">
                        <span>Bénéficier de l'offre</span>
                    </a>
                </div>
            </div>
            <div class="lg:col-span-5 lg:col-start-1 lg:row-span-2 lg:row-start-1">
                <div class="flex justify-center fade-out-image lg:justify-start">
                    <img src="{{ asset('images/haircut/stylist-woman-taking-care-her-client-afro-hair.jpg') }}"
                         alt="illustration" class="w-full rounded-lg lg:rounded-xl">
                </div>
            </div>
        </div>
    </section>

    <section class="bg-gradient-to-b from-purple-50 to-white">
        <div class="mx-auto stack max-w-6xl px-4 sm:px-6 md:px-8">
            <h2 class="text-3xl text-center font-extrabold tracking-tight text-gray-900 sm:text-4xl mt-20">
                Mes services
            </h2>
            <div class="max-w-sm mx-auto grid gap-6 lg:grid-cols-3 items-start lg:max-w-none group mt-4 mb-20  px-4 py-10"
                 data-spotlight>

                <!-- Card 1 -->
                <div class="relative h-full bg-slate-200 rounded-3xl p-px before:absolute before:w-80 before:h-80 before:-left-40 before:-top-40 before:bg-primary-400 before:rounded-full before:opacity-0 before:pointer-events-none before:transition-opacity before:duration-500 before:translate-x-[var(--mouse-x)] before:translate-y-[var(--mouse-y)] before:group-hover:opacity-100 before:z-10 before:blur-[100px] after:absolute after:w-96 after:h-96 after:-left-48 after:-top-48 after:bg-primary-500 after:rounded-full after:opacity-0 after:pointer-events-none after:transition-opacity after:duration-500 after:translate-x-[var(--mouse-x)] after:translate-y-[var(--mouse-y)] after:hover:opacity-10 after:z-30 after:blur-[100px] overflow-hidden">
                    <div class="relative h-full bg-white p-6 pb-8 rounded-[inherit] z-20 overflow-hidden">
                        <!-- Radial gradient -->
                        <div class="absolute bottom-0 translate-y-1/2 left-1/2 -translate-x-1/2 pointer-events-none -z-10 w-1/2 aspect-square"
                             aria-hidden="true">
                            <div class="absolute inset-0 translate-z-0 bg-primary-300 rounded-full blur-[80px]"></div>
                        </div>
                        <div class="flex flex-col h-full items-center text-center">
                            <!-- Text -->
                            <div class="grow mb-5">
                                <h2 class="text-xl text-slate-900 font-bold mb-1">Braid & Twist</h2>
                                <p class="text-sm text-slate-500">
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci aliquid animi
                                    atque autem consectetur consequuntur cumque, delectus doloremque doloribus ducimus
                                    ea eius eligendi eos error
                                </p>
                            </div>
                            <a class="inline-flex justify-center items-center whitespace-nowrap rounded-lg bg-primary-800 hover:bg-slate-900 border border-slate-700 px-3 py-1.5 text-sm font-medium text-slate-300 focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300 dark:focus-visible:ring-slate-600 transition-colors duration-150"
                               href="#0">
                                <svg class="fill-slate-500 mr-2" xmlns="http://www.w3.org/2000/svg" width="16"
                                     height="14">
                                    <path
                                            d="M12.82 8.116A.5.5 0 0 0 12 8.5V10h-.185a3 3 0 0 1-2.258-1.025l-.4-.457-1.328 1.519.223.255A5 5 0 0 0 11.815 12H12v1.5a.5.5 0 0 0 .82.384l3-2.5a.5.5 0 0 0 0-.768l-3-2.5ZM12.82.116A.5.5 0 0 0 12 .5V2h-.185a5 5 0 0 0-3.763 1.708L3.443 8.975A3 3 0 0 1 1.185 10H1a1 1 0 1 0 0 2h.185a5 5 0 0 0 3.763-1.708l4.609-5.267A3 3 0 0 1 11.815 4H12v1.5a.5.5 0 0 0 .82.384l3-2.5a.5.5 0 0 0 0-.768l-3-2.5ZM1 4h.185a3 3 0 0 1 2.258 1.025l.4.457 1.328-1.52-.223-.254A5 5 0 0 0 1.185 2H1a1 1 0 0 0 0 2Z"/>
                                </svg>
                                <span>En savoir plus</span>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="relative h-full bg-slate-200 rounded-3xl p-px before:absolute before:w-80 before:h-80 before:-left-40 before:-top-40 before:bg-primary-400 before:rounded-full before:opacity-0 before:pointer-events-none before:transition-opacity before:duration-500 before:translate-x-[var(--mouse-x)] before:translate-y-[var(--mouse-y)] before:group-hover:opacity-100 before:z-10 before:blur-[100px] after:absolute after:w-96 after:h-96 after:-left-48 after:-top-48 after:bg-primary-500 after:rounded-full after:opacity-0 after:pointer-events-none after:transition-opacity after:duration-500 after:translate-x-[var(--mouse-x)] after:translate-y-[var(--mouse-y)] after:hover:opacity-10 after:z-30 after:blur-[100px] overflow-hidden">
                    <div class="relative h-full bg-white p-6 pb-8 rounded-[inherit] z-20 overflow-hidden">
                        <!-- Radial gradient -->
                        <div class="absolute bottom-0 translate-y-1/2 left-1/2 -translate-x-1/2 pointer-events-none -z-10 w-1/2 aspect-square"
                             aria-hidden="true">
                            <div class="absolute inset-0 translate-z-0 bg-primary-300 rounded-full blur-[80px]"></div>
                        </div>
                        <div class="flex flex-col h-full items-center text-center">
                            <!-- Text -->
                            <div class="grow mb-5">
                                <h2 class="text-xl text-slate-900 font-bold mb-1">Braid & Twist</h2>
                                <p class="text-sm text-slate-500">
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci aliquid animi
                                    atque autem consectetur consequuntur cumque, delectus doloremque doloribus ducimus
                                    ea eius eligendi eos error
                                </p>
                            </div>
                            <a class="inline-flex justify-center items-center whitespace-nowrap rounded-lg bg-primary-800 hover:bg-slate-900 border border-slate-700 px-3 py-1.5 text-sm font-medium text-slate-300 focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300 dark:focus-visible:ring-slate-600 transition-colors duration-150"
                               href="#0">
                                <svg class="fill-slate-500 mr-2" xmlns="http://www.w3.org/2000/svg" width="16"
                                     height="14">
                                    <path
                                            d="M12.82 8.116A.5.5 0 0 0 12 8.5V10h-.185a3 3 0 0 1-2.258-1.025l-.4-.457-1.328 1.519.223.255A5 5 0 0 0 11.815 12H12v1.5a.5.5 0 0 0 .82.384l3-2.5a.5.5 0 0 0 0-.768l-3-2.5ZM12.82.116A.5.5 0 0 0 12 .5V2h-.185a5 5 0 0 0-3.763 1.708L3.443 8.975A3 3 0 0 1 1.185 10H1a1 1 0 1 0 0 2h.185a5 5 0 0 0 3.763-1.708l4.609-5.267A3 3 0 0 1 11.815 4H12v1.5a.5.5 0 0 0 .82.384l3-2.5a.5.5 0 0 0 0-.768l-3-2.5ZM1 4h.185a3 3 0 0 1 2.258 1.025l.4.457 1.328-1.52-.223-.254A5 5 0 0 0 1.185 2H1a1 1 0 0 0 0 2Z"/>
                                </svg>
                                <span>En savoir plus</span>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Card 3 -->
                <div class="relative h-full bg-slate-200 rounded-3xl p-px before:absolute before:w-80 before:h-80 before:-left-40 before:-top-40 before:bg-primary-400 before:rounded-full before:opacity-0 before:pointer-events-none before:transition-opacity before:duration-500 before:translate-x-[var(--mouse-x)] before:translate-y-[var(--mouse-y)] before:group-hover:opacity-100 before:z-10 before:blur-[100px] after:absolute after:w-96 after:h-96 after:-left-48 after:-top-48 after:bg-primary-500 after:rounded-full after:opacity-0 after:pointer-events-none after:transition-opacity after:duration-500 after:translate-x-[var(--mouse-x)] after:translate-y-[var(--mouse-y)] after:hover:opacity-10 after:z-30 after:blur-[100px] overflow-hidden">
                    <div class="relative h-full bg-white p-6 pb-8 rounded-[inherit] z-20 overflow-hidden">
                        <!-- Radial gradient -->
                        <div class="absolute bottom-0 translate-y-1/2 left-1/2 -translate-x-1/2 pointer-events-none -z-10 w-1/2 aspect-square"
                             aria-hidden="true">
                            <div class="absolute inset-0 translate-z-0 bg-primary-300 rounded-full blur-[80px]"></div>
                        </div>
                        <div class="flex flex-col h-full items-center text-center">
                            <!-- Text -->
                            <div class="grow mb-5">
                                <h2 class="text-xl text-slate-900 font-bold mb-1">Braid & Twist</h2>
                                <p class="text-sm text-slate-500">
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci aliquid animi
                                    atque autem consectetur consequuntur cumque, delectus doloremque doloribus ducimus
                                    ea eius eligendi eos error
                                </p>
                            </div>
                            <a class="inline-flex justify-center items-center whitespace-nowrap rounded-lg bg-primary-800 hover:bg-slate-900 border border-slate-700 px-3 py-1.5 text-sm font-medium text-slate-300 focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300 dark:focus-visible:ring-slate-600 transition-colors duration-150"
                               href="#0">
                                <svg class="fill-slate-500 mr-2" xmlns="http://www.w3.org/2000/svg" width="16"
                                     height="14">
                                    <path
                                            d="M12.82 8.116A.5.5 0 0 0 12 8.5V10h-.185a3 3 0 0 1-2.258-1.025l-.4-.457-1.328 1.519.223.255A5 5 0 0 0 11.815 12H12v1.5a.5.5 0 0 0 .82.384l3-2.5a.5.5 0 0 0 0-.768l-3-2.5ZM12.82.116A.5.5 0 0 0 12 .5V2h-.185a5 5 0 0 0-3.763 1.708L3.443 8.975A3 3 0 0 1 1.185 10H1a1 1 0 1 0 0 2h.185a5 5 0 0 0 3.763-1.708l4.609-5.267A3 3 0 0 1 11.815 4H12v1.5a.5.5 0 0 0 .82.384l3-2.5a.5.5 0 0 0 0-.768l-3-2.5ZM1 4h.185a3 3 0 0 1 2.258 1.025l.4.457 1.328-1.52-.223-.254A5 5 0 0 0 1.185 2H1a1 1 0 0 0 0 2Z"/>
                                </svg>
                                <span>En savoir plus</span>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

{% endblock %}


{% block javascripts__footer %}
    <script type="text/javascript">

        document.addEventListener('DOMContentLoaded', function () {
            const hamburger = document.getElementById('hamburger');
            const line = document.getElementById('line');
            const line2 = document.getElementById('line2');
            const navMenu = document.querySelector('.lg\\:peer-checked\\:scale-100'); // Modifier la sélection si nécessaire
            const backdrop = document.querySelector('.backdrop-blur-2xl'); // Assurez-vous de cibler correctement

            let menuOpen = false;

            hamburger.addEventListener('click', function () {
                if (!menuOpen) {
                    line.style.transform = 'translateY(8px) rotate(45deg)';
                    line2.style.transform = 'translateY(-8px) rotate(-45deg)';
                    line2.style.opacity = '0'; // Cache la ligne du milieu pour faire une croix
                    menuOpen = true;
                } else {
                    line.style.transform = '';
                    line2.style.transform = '';
                    line2.style.opacity = '1';
                    menuOpen = false;
                }

                navMenu.classList.toggle('scale-100');
                navMenu.classList.toggle('opacity-100');
                navMenu.classList.toggle('visible');
                backdrop.classList.toggle('scale-y-100');
            });

            document.addEventListener('click', function (e) {
                if (!navMenu.contains(e.target) && !hamburger.contains(e.target) && menuOpen) {
                    line.style.transform = '';
                    line2.style.transform = '';
                    line2.style.opacity = '1';
                    menuOpen = false;

                    navMenu.classList.remove('scale-100', 'opacity-100', 'visible');
                    backdrop.classList.remove('scale-y-100');
                }
            });
        });


        // Cards spotlight
        class Spotlight {
            constructor(containerElement) {
                this.container = containerElement;
                this.cards = Array.from(this.container.children);
                this.mouse = {
                    x: 0,
                    y: 0,
                };
                this.containerSize = {
                    w: 0,
                    h: 0,
                };
                this.initContainer = this.initContainer.bind(this);
                this.onMouseMove = this.onMouseMove.bind(this);
                this.init();
            }

            initContainer() {
                this.containerSize.w = this.container.offsetWidth;
                this.containerSize.h = this.container.offsetHeight;
            }

            onMouseMove(event) {
                const {clientX, clientY} = event;
                const rect = this.container.getBoundingClientRect();
                const {w, h} = this.containerSize;
                const x = clientX - rect.left;
                const y = clientY - rect.top;
                const inside = x < w && x > 0 && y < h && y > 0;
                if (inside) {
                    this.mouse.x = x;
                    this.mouse.y = y;
                    this.cards.forEach((card) => {
                        const cardX = -(card.getBoundingClientRect().left - rect.left) + this.mouse.x;
                        const cardY = -(card.getBoundingClientRect().top - rect.top) + this.mouse.y;
                        card.style.setProperty('--mouse-x', `${cardX}px`);
                        card.style.setProperty('--mouse-y', `${cardY}px`);
                    });
                }
            }

            init() {
                this.initContainer();
                window.addEventListener('resize', this.initContainer);
                window.addEventListener('mousemove', this.onMouseMove);
            }
        }

        // Init Spotlight
        const spotlights = document.querySelectorAll('[data-spotlight]');
        spotlights.forEach((spotlight) => {
            new Spotlight(spotlight);
        });
    </script>
{% endblock %}
