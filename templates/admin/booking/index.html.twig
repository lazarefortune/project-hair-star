{% extends 'admin/base.html.twig' %}

{% block title %}Réservations{% endblock %}

{% import 'admin/booking/macros.twig' as element %}

{% block body %}
    <div class="mb-6 flex items-center justify-between">
        <h4 class="text-2xl font-bold md:text-3xl">
            Rendez-vous
        </h4>
        <a href="{{ path('app_admin_booking_add') }}"
           class="btn btn-md btn-primary">
            {{ icon('plus') }}
            <span>
                Ajouter
            </span>
        </a>
    </div>

    <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4">
        {% for booking in bookings %}
            <article
                    class="rounded-md border-thin border-slate-300 bg-white shadow-soft">
                <div class="px-4 py-3 border-b border-slate-200 rounded-t-md flex justify-between items-center">
                    <!-- Mettre en avant le nom du client -->
                    <h3 class="text-base font-medium text-slate-800 flex items-center">
                        {{ booking.bookingDate|date('l j M') }} à {{ booking.bookingTime|date('H:i') }}
                    </h3>
                    <div>
                        {#                        <span class="inline-flex items-center px-2.5 py-2 rounded-md text-xs bg-green-100 text-green-800"> #}
                        {{ element.status_badge(booking) }}
                        {#                        </span> #}
                    </div>
                </div>
                <div class="px-4 py-3">
                    <div class="grid grid-cols-2 gap-4">
                        <div class="col-span-1 flex justify-start items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-slate-100 flex justify-center items-center">
                                {{ icon('user') }}
                            </div>
                            <div class="text-sm text-slate-500">
                                <h4 class="text-slate-400">
                                    Nom
                                </h4>
                                <p class="text-slate-800">
                                    {{ booking.client.fullname }}
                                </p>
                            </div>
                        </div>
                        <div class="col-span-1">
                            <div class="text-sm text-slate-500">
                                <h4 class="text-slate-400">
                                    Service
                                </h4>
                                <p class="text-slate-800">
                                    {{ booking.prestation.name }}
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="">

                    </div>
                </div>
                <div class="px-4 py-5 w-full">
                    <a href="{{ path('app_admin_booking_show', {'id': booking.id}) }}"
                       class="text-slate-900 border border-slate-300 focus:ring-4 focus:outline-none focus:ring-blue-200 shadow-soft font-medium rounded-md text-sm px-5 py-2.5 inline-flex justify-center text-center w-full sm:w-auto">
                        Voir les détails
                    </a>
                </div>
            </article>
        {% endfor %}
    </div>




    {#    <div class="card-simple"> #}
    {#        {% if bookings is not empty %} #}
    {#            <div class="mb-6 px-4 sm:px-6"> #}
    {#                <div class="flex justify-between"> #}
    {#                    <div class="flex flex-1 justify-between"> #}
    {#                        <input type="text" class="form-control" placeholder="Rechercher..."> #}
    {#                    </div> #}
    {#                </div> #}
    {#            </div> #}
    {#        {% endif %} #}

    {#        <div class="block w-full overflow-x-auto"> #}
    {#            <table class="table w-full border-collapse items-center bg-transparent"> #}
    {#                <thead class="bg-gray-50"> #}
    {#                <tr> #}
    {#                    <th> #}
    {#                        <input type="checkbox" #}
    {#                               class=""> #}
    {#                    </th> #}
    {#                    <th> #}
    {#                        Date #}
    {#                    </th> #}
    {#                    <th> #}
    {#                        Statut #}
    {#                    </th> #}
    {#                    <th> #}
    {#                        Client #}
    {#                    </th> #}
    {#                    <th> #}
    {#                        Prestation #}
    {#                    </th> #}
    {#                    <th> #}
    {#                        Tarif #}
    {#                    </th> #}
    {#                    <th> #}
    {#                        Statut paiement #}
    {#                    </th> #}
    {#                    <th> #}
    {#                        Actions #}
    {#                    </th> #}
    {#                </tr> #}
    {#                </thead> #}
    {#                <tbody> #}
    {#                {% if bookings is empty %} #}
    {#                    <tr> #}
    {#                        <td colspan="7" class="text-center"> #}
    {#                            Vous n'avez aucun rendez-vous pour le moment. #}
    {#                        </td> #}
    {#                    </tr> #}
    {#                {% endif %} #}
    {#                {% for booking in bookings %} #}
    {#                    <tr> #}
    {#                        <th class="text-left"> #}
    {#                            <input type="checkbox" #}
    {#                                   class=""> #}
    {#                        </th> #}
    {#                        <td> #}
    {#                            {{ booking.bookingDate|date('d/m/Y') }} à {{ booking.bookingTime|date('H:i') }} #}
    {#                        </td> #}
    {#                        <td> #}
    {#                            {{ element.status_badge(booking) }} #}
    {#                        </td> #}
    {#                        <td> #}
    {#                            <a href="{{ path('app_admin_clients_show', {'id': booking.client.id}) }}"> #}
    {#                                {{ booking.client.fullname }} #}
    {#                            </a> #}
    {#                        </td> #}
    {#                        <td> #}
    {#                            {{ booking.prestation.name }} #}
    {#                        </td> #}
    {#                        <td> #}
    {#                            {{ booking.amount }} € #}
    {#                        </td> #}
    {#                        <td> #}
    {#                            {{ element.payment_status_badge(booking) }} #}
    {#                        </td> #}
    {#                        <td> #}
    {#                            <a href="{{ path('app_admin_booking_show', {'id': booking.id}) }}" #}
    {#                               class="btn-icon"> #}
    {#                                {{ icon('eye') }} #}
    {#                            </a> #}

    {#                            {{ element.edit_button(booking) }} #}
    {#                            {{ element.confirm_booking_button(booking) }} #}
    {#                            {{ element.cancel_booking_button(booking) }} #}
    {#                            {{ element.delete_booking_button(booking) }} #}
    {#                            {{ element.payment_button(booking) }} #}
    {#                        </td> #}
    {#                    </tr> #}
    {#                {% endfor %} #}
    {#                </tbody> #}
    {#            </table> #}
    {#        </div> #}
    {#    </div> #}
{% endblock %}
